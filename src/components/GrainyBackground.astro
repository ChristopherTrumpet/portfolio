---
import { getImage } from "astro:assets";
import Grain from "../assets/grain.gif";

const optimizedGrain = await getImage({
  src: Grain,
  format: "webp",
});
---

<div id="grainy" style={{ backgroundImage: `url(${optimizedGrain.src})` }}>
</div>

<style>
  #grainy {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;

    background-repeat: repeat;
    background-size: auto;

    opacity: 0.04;
    mix-blend-mode: multiply;
    pointer-events: none;
    z-index: 10;

    -webkit-mask-image: linear-gradient(
      180deg,
      transparent 0%,
      black 5%,
      black 95%,
      transparent 100%
    );
    mask-image: linear-gradient(
      180deg,
      transparent 0%,
      black 5%,
      black 95%,
      transparent 100%
    );
  }
</style>
