---
import { getWeather } from "../lib/weatherCache";

const weather = await getWeather();

if (!weather) {
  return new Response(null, { status: 404 });
}

let state = "â˜€ï¸";

if (weather.snowfall > 0.5) {
  state = "ğŸŒ¨ï¸";
} else if (weather.rain > 0.5) {
  state = "ğŸŒ§ï¸";
} else if (weather.cloud_cover > 80) {
  state = "â˜ï¸";
} else if (!weather.is_day) {
  state = "ğŸ›ï¸";
}
---

<div class="flex items-center gap-2">
  <p class="mb-0.5">
    {state}
    {weather.temperature_2m}&deg;
  </p>
</div>
